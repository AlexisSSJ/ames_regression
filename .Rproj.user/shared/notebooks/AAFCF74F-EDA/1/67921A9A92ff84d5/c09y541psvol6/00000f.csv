"0","#| label: corr_heatmap_HCC"
"0","#| results: hide"
"0","#| code-fold: true"
"0","#| fig-keep: 'all'"
"0",""
"0","ames_train = ames_x_train.copy()"
"0","ames_train['Sale_Price/Gr_Liv_Area'] = ames_y_train"
"0","correlation_data = ("
"0","    ames_train[continuas].corr().melt(  ignore_index=False,"
"0","                                        var_name='var1').reset_index() >>"
"0","                    select( _.var1,"
"0","                            _.var2 == _.index,"
"0","                            _.cor == _.value  ) "
"0",")"
"0",""
"0",""
"0","labels=("
"0","    correlation_data >> case_when({_.cor.between(-0.3, 0.3):'',"
"0","                                    _.cor>0.99991: '',"
"0","                                    True :_.cor.round(2).astype(str)})"
"0",")"
"0",""
"0","("
"0","    correlation_data >>"
"0","        arrange(-_.cor,_.var1) >>"
"0","        # filter (_.var1!=_.var2) >>"
"0","        mutate(labb=labels)>>"
"0","        ggplot(aes(x='var1', y='var2', fill= 'cor'))+"
"0","        geom_tile()+"
"0","        geom_label(aes(label='labb'), size=6)+"
"0","        scale_fill_gradientn(colors=['#0092ff','#e6d6c7','#FF1400'],"
"0","                            limits=(-1,1),"
"0","                            name='Correlaci√≥n')+"
"0","        ggtitle('Mapa de calor de correlaciones para variables continuas')+"
"0","        xlab('')+ylab('')+#guides(fill=guide_legend(title=""New Legend Title""))+"
"0","        theme(axis_text_x=element_text(rotation=90,hjust = -1),"
"0","                figure_size=(8,6))"
"0",")"
"1","<Figure Size: (761 x 470)>
"
